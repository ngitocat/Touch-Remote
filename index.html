<!DOCTYPE html><!--HTML5-->
<html>
  <head>    
    <meta charset="utf-8"><!--Unicode-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><!--Mobile First-->
    <title>Touch Remote</title>    
    <script src="foreground.js" defer></script>
    <link rel="manifest" href="manifest.json">
  </head>
  <body>
    <h1>Welcom To Touch Remote Application Configuration</h1>
    <p>Swipe down to start up!</p>
  <script>
      window.addEventListener('DOMContentLoaded', () => {  
        let ask_user_input = (message, defaultValue = "http://192.168.1.11:8181") => {
          let uri = prompt(message , defaultValue);
          uri === null ? ask_user_input("Do not cancel! please enter address and port of kodi", defaultValue)
            : uri === "" ? ask_user_input("Emty url! please enter address and port of kodi", defaultValue)
            : open_link(uri);
        }      
        
        let open_link = link => {
          try {
            new URL(link);
            window.open(`${link}/#remote`);
          } catch (_) {
            ask_user_input(`"${link}" is not a valid URL`);
         }
        }
        
        ask_user_input(`Enter address and port url of kodi here! "http://<your-ip>:<your-port>"`);       
      });
  </script>  
  </body>
</html>
